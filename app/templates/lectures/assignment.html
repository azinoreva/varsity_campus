{% extends 'base.html' %}

{% block title %}
{% endblock %}

{% block content %}

{% if assignments %}
    {% for assignment in assignments %}
        <ul>
            {% for item in assignment.content.split(',') %}
                <li>{{ item }}</li>
            {% endfor %}
        </ul>
    {% endfor %}
{% else %}
    <p>No assignments found for this lecture.</p>
{% endif %}


{% if current_user.has_role('Lecturer') %}
<div>
    <form action="{{ url_for('assignment.create_assignment', lecture_id=lecture_id) }}" method="POST">
        <div class="form-group">
            <label for="questionsInput">Question:</label>
            <input type="text" id="questionsInput" class="form-control">

            <ul id="questionList" class="list-group mb-3"><!-- Display added students --></ul>

            <div class="input-group-append">
                <button type="button" id="addQuestionBtn" class="btn btn-primary mt-2">save</button>
            </div>

            <input type="hidden" id="questions" name="questions" value="">
        </div>

        <div>
            <button type="submit" class="btn btn-success">upload</button>
        </div>
    </form>
</div>
{% else %}
<form action="{{ url_for('assignment.create_assignment', lecture_id=lecture_id) }}" method="POST">
    <div class="form-group">
        <label for="answerInput">Answer:</label>
        <input type="url" id="answerInput" class="form-control">

        <ul id="answerList" class="list-group mb-3"><!-- Display added students --></ul>

        <div class="input-group-append">
            <button type="button" id="answerBtn" class="btn btn-primary mt-2">save</button>
        </div>

        <input type="hidden" id="answer" name="answer" value="">
    </div>

    <div>
        <button type="submit" class="btn btn-primary mt-2">submit</button>
    </div>
</form>
{% endif%}
{% endblock %}

{% block script %}
<script src="{{ url_for('static', filename='js/assignment.js') }}"></script>
{% endblock %}
